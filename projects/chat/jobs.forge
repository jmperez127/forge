# Chat Jobs

job notify_channel {
  input: Message
  needs: Message.channel.members
  effect: email.send
}

job notify_parent_author {
  input: Thread
  needs: Thread.parent.author
  effect: email.send
}

job create_default_channel {
  input: Workspace
  needs: Workspace.owner
  effect: email.send
}

job log_message_sent {
  input: Message
  creates: ActivityLog {
    action: "message_sent"
    description: data.content
    entity_type: "Message"
  }
}
